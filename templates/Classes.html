{% extends "base.html" %}
{% block title %}My Classes{% endblock %}
  <!-- <style>
    .flash {
      background-color: #4CAF50; /* green background */
      color: white;
      padding: 10px 20px;
      margin: 10px auto;
      border-radius: 4px;
      width: fit-content;
      display: none;
      animation: fadeInOut 3s ease forwards;
    }

    @keyframes fadeInOut {
      0% { opacity: 0; }
      10% { opacity: 1; }
      90% { opacity: 1; }
      100% { opacity: 0; display: none; }
    }

    .student-select {
      margin-top: 15px;
      display: none;
      flex-direction: column;
      gap: 10px;
    }

    .student-select select {
      padding: 8px;
      border-radius: 4px;
      border: 1px solid var(--input-border);
      background-color: var(--input-bg);
      color: var(--text-color);
    }

    .student-select button {
      width: fit-content;
    }
  </style> -->
{% block content %}
  <section class="hero">
    <h1>Your Classes</h1>
    <p>Manage the classes you've created below.</p>
    <div class="cta-buttons">
      <button onclick="location.href='Classes/add_class'">Create New Class</button>
    </div>

  <section class="features">
    <h2>Class List</h2>
    <div class="features-grid" id="classList">
      {% for el in Klasses %}
      <div class="feature-card">
        <div class="feature-icon">ðŸ“˜</div>
        <div class="feature-content">
          <h3>{{ el.grade | replace(gtt, "") }}</h3>
          <a class="btn" onclick="location.href = '/students/{{ el.id }}';">View students list</a>
          <form method="POST" action="{{ url_for('delete_class', class_id=el.id) }}" onsubmit="return confirm('Are you sure?')">
            <button type="submit" class="btn-delete">Delete</button>
          </form>
        </div>
      </div>
      {% endfor %}
    </div>
  </section>
{% endblock %}

  <script>
    function toggleTheme() {
      const html = document.documentElement;
      const currentTheme = html.getAttribute('data-theme');
      html.setAttribute('data-theme', currentTheme === 'dark' ? 'light' : 'dark');
    }

    function showCreateForm() {
      const studentSelect = document.getElementById('studentSelect');
      studentSelect.style.display = 'flex';
    }

    function addStudent() {
      const flash = document.getElementById('flashMessage');
      flash.style.display = 'block';
      flash.classList.remove('hidden');
      setTimeout(() => {
        flash.style.display = 'none';
      }, 3000);
    }

    function createClass() {
      const classList = document.getElementById('classList');
      const newCard = document.createElement('div');
      newCard.className = 'feature-card';
      newCard.innerHTML = `
        <div class="feature-icon">ðŸ“˜</div>
        <div class="feature-content">
          <h3>New Class</h3>
          <p>Description goes here</p>
          <button onclick="deleteClass(this)">Delete</button>
        </div>
      `;
      classList.appendChild(newCard);
    }

    function deleteClass(button) {
      const card = button.closest('.feature-card');
      card.remove();
    }
  </script>
</body>
</html>
